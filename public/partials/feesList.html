<toolbar title='Fees'></toolbar>
<side-nav></side-nav>


<div>
  <md-content>
    <md-card>
      <md-table-container>
        <table md-table md-row-select=false ng-model="vm.selected" md-progress="vm.promise">
          <thead md-head>
            <tr md-row>
              <th md-column>Id</th>
              <th md-column>Name</th>
              <th md-column md-numeric>Charges</th>
              <th md-column md-numeric>Payments</th>
              <th md-column md-numeric>Balance</th>
            </tr>
          </thead>

          <tbody md-body>
            <tr md-row ng-repeat="fee in vm.fees">

              <td md-cell>{{fee.student_id}}</td>
              <td md-cell>{{fee.name}}</td>
              <td md-cell>{{fee.debit | currency}}</td>
              <td md-cell>{{fee.credit | currency}}</td>
              <td md-cell>{{fee.balance | currency}}</td>
            </tr>
            <tbody>
        </table>
      </md-table-container>
      <md-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.fees.length}}" md-page-select=false md-boundary-links=false ></md-table-pagination>
      <md-card>
  </md-content>

</div>


<md-content class='md-padding'>
  <md-card layout-margin>
    <div flex layout="row" layout-align="center center">
      <div flex-sm="100" flex-gt-sm="80" layout="column">
        <form name='feeForm' ng-submit="vm.makeTransaction()" novalidate>

          <md-input-container>
            <label>id</label>
            <input type="number" name="name" ng-model="vm.transactionData.student_id" required>
          </md-input-container>

          <md-input-container>
            <label>amount</label>
            <input type="number" name="amount" ng-model="vm.transactionData.amount" required>
          </md-input-container>

          <md-input-container>
            <label>type</label>
            <input type="text" name="type" ng-model="vm.transactionData.type" required>
          </md-input-container>

          <md-input-container>
            <label>credit or dept</label>
            <md-select name="dept_or_credit" ng-model='vm.transactionData.dept_or_credit' required>
              <md-option ng-repeat="option in vm.dept_or_credit " value="{{option.value}}">{{option.name}}</md-option>
            </md-select>
          </md-input-container>

          <md-input-container class="md-block">
            <label>description</label>
            <input type="text" name="descr" ng-model="vm.transactionData.descr">
          </md-input-container>



          <md-button class="md-primary" type="submit" ng-disabled="feeForm.$invalid">make transaction</md-button>

        </form>
      </div>
    </div>
    <md-card>
</md-content>
{{vm.transactionData}}
{{vm.id}}
